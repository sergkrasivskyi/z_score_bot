Ось приклад того, що для типової пари у файлі потрібно рахувати, monitoredPairs.json
  {
    "pair": "AVAX/SNX",
    "zscore_1m": null,
    "zscore_2m": null,
    "zscore_4m": null,
    "correlation_1m": null,
    "correlation_2m": null,
    "correlation_4m": null,
    "beta_coef"_1m: null,
    "beta_coef"_2m: null,
    "beta_coef"_4m: null,
    "percentile_90_1m": null,
    "percentile_10_1m": null,
    "percentile_90_2m": null,
    "percentile_10_2m": null,
    "percentile_90_4m": null,
    "percentile_10_4m": null,
  },

  # Z-Score Bot

Z-Score Bot — це асинхронний бот для збору, обробки та оновлення даних про криптовалютні активи. Основна мета бота — ефективне отримання історичних цін активів та їх періодичне оновлення для подальшого аналізу Z-score і моніторингу ринку.

---

## Основний функціонал

### 1. **Ініціалізація бази даних**
- Перевірка існування таблиць у базі даних при запуску.
- Використовується файл бази даних `z_score_bot.db`, який містить такі таблиці:
  - **cryptocurrencies**: зберігає історичні ціни активів.
  - **pairs**: зберігає дані про пари криптовалют.
- Автоматичне створення таблиць, якщо вони відсутні.

### 2. **Збір та оновлення даних**
- **Асинхронне оновлення активів**:
  - Збір до 672 періодів для кожного активу.
  - Видалення старих записів, якщо їх більше 672.
  - Вставка нових даних у базу даних із використанням пакетної обробки.
- **Розклад оновлення**:
  - Дані оновлюються автоматично за заданим розкладом (0, 15, 30, 45 хвилин кожної години).
  - Можливість запуску початкового оновлення одразу після старту програми.

### 3. **Оптимізація роботи**
- Використання `asyncio` та `aiohttp` для паралельного виконання запитів.
- Обмеження кількості одночасних запитів за допомогою `Semaphore` (10 запитів).
- Пакетна вставка нових записів для прискорення роботи з базою даних.

### 4. **Логування**
- Логуються всі ключові дії бота:
  - Початок і завершення оновлення даних.
  - Кількість нових і старих періодів для кожного активу.
  - Час обробки кожного активу.
  - Загальний час обробки всіх активів.
- Логи зберігаються у файлі `zscore_bot.log`.

---

## Архітектура

### Основні компоненти

#### 1. **`data_updater.py`**
- Займається завантаженням даних для активів із Binance API.
- Асинхронна обробка активів із використанням семафорів.

#### 2. **`db_manager.py`**
- Керує взаємодією з базою даних SQLite:
  - Додавання та оновлення записів.
  - Видалення старих записів.
  - Отримання останніх цін для активів.
  - Пакетна вставка даних.
  - Автоматичне створення таблиць `cryptocurrencies` та `pairs` у базі даних `z_score_bot.db`, якщо вони відсутні.

#### 3. **`core.py`**
- Реалізує розклад оновлення за допомогою `apscheduler`.
- Містить функцію `scheduled_task`, яка запускає оновлення даних.

#### 4. **`run.py`**
- Точка входу для запуску бота.
- Виконує початкове оновлення та запускає розклад.

---

## Інструкція з використання

1. **Налаштування API Binance**:
   - Додайте ваш API ключ та секретний ключ до `config.py`:
     ```python
     BINANCE_API_KEY = "your_api_key_here"
     BINANCE_API_SECRET = "your_api_secret_here"
     ```

2. **Запуск програми**:
   - Для старту виконайте:
     ```bash
     python run.py
     ```

3. **Логи**:
   - Усі події записуються до файлу `zscore_bot.log`.

4. **Розклад**:
   - Програма автоматично оновлює дані кожні 15 хвилин.

---

## Плани на майбутнє
- Реалізація розрахунку Z-score для кожного активу.
- Впровадження Telegram-бота для надсилання звітів.
- Додавання підтримки автоматизованих торгових стратегій.
- Оптимізація роботи з великими базами даних.

---

## Вимоги
- Python 3.8+
- Бібліотеки:
  - `aiohttp`
  - `apscheduler`
  - `sqlite3`

---

## Контакт
Для питань або пропозицій зв'яжіться з автором проекту через [Telegram](https://t.me/your_contact_link).

